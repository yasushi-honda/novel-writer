# UIテスト設計書

## 概要
このドキュメントは、「小説らいたー」のユーザーインターフェース（UI）に関するテストケースを定義します。ボタンの動作、パネルの開閉、モーダルの表示、レスポンシブデザインなど、画面の見た目と操作性に関する項目を網羅します。

## テスト目的
- すべてのUI要素が意図通りに表示され、操作可能であることを保証する。
- 画面遷移やUIの状態変化がスムーズに行われることを確認する。
- 様々な画面サイズでレイアウトが崩れないことを確認する。

## 前提条件
- テスト対象のプロジェクトがメイン画面で開かれていること。

---

## テスト項目一覧

| 機能分類 | テスト項目 |
| :--- | :--- |
| **ヘッダー** | プロジェクトタイトル編集、各種ボタンの動作確認 |
| **サイドパネル** | 左右パネルの開閉、リサイズ、タブ/モード切替 |
| **中央パネル** | 本文編集モードのUI、書式ツールバー、テキスト選択ツールバー |
| **モーダル** | 全てのモーダルウィンドウの表示、入力、保存、閉じる動作 |
| **フローティングウィンドウ**| パネルのウィンドウ化、移動、リサイズ、閉じる動作 |
| **グローバル** | Undo/Redoボタンの有効/無効状態、保存ステータス表示 |
| **レスポンシブ** | 画面幅を狭めた際のUI表示と操作性 |

---

## 詳細テストケース

### ヘッダー

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-HD-001** | プロジェクトタイトル編集 | 1. ヘッダーのプロジェクト名をクリック<br>2. 新しい名前を入力しEnterキーを押す<br>3. 再度クリックし、Escキーを押す | 1. 入力欄に切り替わる<br>2. 名前が更新される<br>3. 編集がキャンセルされ元の名前に戻る |
| **TC-UI-HD-002** | 表示設定ポップオーバー | 1. 「表示」ボタンをクリック<br>2. 表示されたポップオーバー内の「表示設定」をクリック<br>3. テーマ、フォント、文字サイズを変更 | 1. ポップオーバーが表示される<br>2. 表示設定メニューが開く<br>3. 中央パネルの本文の見た目が即時反映される |
| **TC-UI-HD-003** | プレビューモーダル表示 | 1. 「表示」ボタンをクリック<br>2. 「プレビュー」をクリック | 全文プレビューモーダルが表示される。 |
| **TC-UI-HD-004** | パネル開閉ボタン | 1. 左のパネル開閉ボタンをクリック<br>2. 右のパネル開閉ボタンをクリック | 1. 左パネルが非表示/表示される<br>2. 右パネルが非表示/表示される |

### サイドパネル

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-SP-001** | サイドパネルリサイズ | 1. 左パネルと中央パネルの間のハンドルをドラッグ<br>2. 右パネルと中央パネルの間のハンドルをドラッグ | 1. 左パネルの幅が変更される<br>2. 右パネルの幅が変更される |
| **TC-UI-SP-002** | 左パネルタブ切替 | 1. 標準モードで左パネルの各アイコン（キャラクター、世界観など）をクリック | 対応する設定リストに表示が切り替わる。 |
| **TC-UI-SP-003** | アウトライン章ジャンプ | 1. 左パネルを「アウトライン」タブに切り替え<br>2. 表示されている章タイトルをクリック | 中央パネルが該当の章の先頭までスクロールする。 |

### 中央パネル

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-CP-001** | 段落編集モード | 1. 本文の段落にマウスオーバー<br>2. 表示された「編集」アイコンをクリック<br>3. 編集後、「キャンセル」ボタンを押す | 1. 編集UI（ツールバー、テキストエリア、保存/キャンセルボタン）が表示される<br>2. 編集内容が破棄され、元の本文に戻る |
| **TC-UI-CP-002** | テキスト選択ツールバー | 1. 本文の任意のテキストをマウスで選択する | 選択範囲の近くに、小さなツールバー（校正して、など）が表示される。 |

### モーダルウィンドウ

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-MD-001** | モーダルの開閉 | 1. 左パネルのキャラクター「＋」ボタンを押す<br>2. モーダル右上の「×」ボタンを押す | 1. キャラクター設定モーダルが開く<br>2. モーダルが閉じる |
| **TC-UI-MD-002** | 未保存警告 | 1. キャラクター設定モーダルで何か項目を変更する<br>2. 保存せずに「×」ボタンで閉じようとする | 「編集中の内容を保存して閉じますか？」という確認ポップオーバーが表示される。 |
| **TC-UI-MD-003** | タブ切替 | キャラクター設定モーダルで「プロフィール・外見」「性格・内面」などのタブをクリックする | 表示されるフォームの内容が切り替わる。 |

### フローティングウィンドウ

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-FW-001** | ウィンドウ化 | 1. 左パネルのキャラクターパネルヘッダーにある「ウィンドウ化」アイコンをクリック | 1. キャラクターパネルが独立したウィンドウとして表示される。 |
| **TC-UI-FW-002** | 移動とリサイズ | 1. フローティングウィンドウのヘッダーをドラッグ<br>2. ウィンドウの右下角をドラッグ | 1. ウィンドウが移動する<br>2. ウィンドウのサイズが変更される |
| **TC-UI-FW-003** | フォーカス | 複数のフローティングウィンドウを開き、1つをクリックする | クリックしたウィンドウが最前面に表示される (z-indexが最大になる)。 |

### レスポンシブ

| テストケースID | 対象機能 | 操作手順 | 期待結果 |
| :--- | :--- | :--- | :--- |
| **TC-UI-RS-001** | ヘッダーボタンの表示 | ブラウザの横幅を1200px以下に狭める | ヘッダーの「検索」などのボタンからテキストラベルが消え、アイコンのみの表示になる。 |
| **TC-UI-RS-002** | 全体レイアウト | ブラウザの横幅を狭めていく | 主要なコンテンツ（中央パネルなど）が極端に潰れたり、操作不能になったりせず、レイアウトが維持される。 |

---
